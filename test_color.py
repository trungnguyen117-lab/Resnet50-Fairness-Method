import pandas as pd

# Dữ liệu đầu vào
data = {
    "Metric": ["SPD", "DEO", "EOD", "AAOD", "AED", "ADV", "DI", "BC+BB", "FLAC", "MFD"],
    "US": ["0.109±0.018", "0.256±0.027", "0.127±0.026", "0.196±0.015", "0.196±0.016", "0.598±0.010", "0.484±0.018", "0.130±0.032", "0.069±0.029", "0.052±0.029"],
    "OS": ["0.460±0.014", "0.759±0.028", "0.073±0.019", "0.416±0.014", "0.337±0.016", "0.878±0.025", "0.800±0.020", "0.258±0.049", "0.251±0.036", "0.265±0.031"],
    "UW": ["0.249±0.024", "0.479±0.037", "0.069±0.024", "0.273±0.020", "0.271±0.020", "0.479±0.037", "0.800±0.020", "0.069±0.024", "0.190±0.039", "0.185±0.055"],
    "BM": ["0.158±0.150", "0.377±0.193", "0.213±0.049", "0.274±0.066", "0.269±0.042", "0.377±0.193", "0.441±0.019", "0.274±0.066", "0.222±0.020", "0.213±0.022"],
    "ADV": ["0.598±0.010", "0.878±0.025", "0.256±0.016", "0.561±0.011", "0.319±0.015", "0.598±0.010", "0.441±0.019", "0.561±0.011", "0.233±0.018", "0.213±0.022"],
    "DI": ["0.484±0.018", "0.800±0.020", "0.086±0.016", "0.441±0.019", "0.351±0.007", "0.484±0.018", "0.441±0.019", "0.441±0.019", "0.233±0.018", "0.351±0.007"],
    "BC+BB": ["0.130±0.032", "0.258±0.049", "0.016±0.005", "0.168±0.021", "0.184±0.020", "0.130±0.032", "0.168±0.021", "0.168±0.021", "0.184±0.020", "0.184±0.020"],
    "FLAC": ["0.069±0.029", "0.251±0.036", "0.190±0.039", "0.222±0.020", "0.233±0.018", "0.069±0.029", "0.190±0.039", "0.190±0.039", "0.233±0.018", "0.233±0.018"],
    "MFD": ["0.052±0.029", "0.265±0.031", "0.185±0.055", "0.213±0.022", "0.213±0.022", "0.052±0.029", "0.185±0.055", "0.213±0.022", "0.233±0.018", "0.233±0.018"]
}

# Chuyển dữ liệu thành DataFrame
df = pd.DataFrame(data)

# Hàm để tô màu dựa trên giá trị trung bình
def colorize(val):
    # Tách giá trị trung bình (trước dấu ±)
    avg_val = float(val.split('±')[0])
    
    # Tính màu sắc từ giá trị trung bình
    # Giả sử giá trị từ 0 đến 1, ta sử dụng giá trị của trung bình để tạo độ sáng màu
    color_intensity = min(255, int(avg_val * 255))
    
    # Trả về màu sắc với độ sáng dựa trên giá trị
    return f"rgb({color_intensity}, {255 - color_intensity}, 0)"

# Áp dụng màu sắc cho từng ô trong DataFrame
styled_df = df.style.applymap(lambda val: f"background-color: {colorize(val)}")

# In bảng ra dưới dạng HTML với màu sắc đã áp dụng
html_table = styled_df.render()

# In kết quả bảng
print(html_table)
